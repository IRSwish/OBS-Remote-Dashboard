:root {
  --bg:#0f1720;
  --panel:#0b1220;
  --muted:#9aa4b2;
  --accent:#00c9ff;
  --accent2:#f52584;
  --glass: rgba(255,255,255,0.05);
  --card-radius:10px;
  --gap:12px;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

* {box-sizing:border-box; margin:0; padding:0;}
body {background:linear-gradient(180deg,var(--bg),#07101a); color:#e6eef6; height:100vh; display:flex; flex-direction:column;}

/* Topbar */
.topbar {display:flex; align-items:center; gap:12px; padding:10px 16px; background:var(--glass); border-radius:0 0 12px 12px;}
.brand {font-weight:600; display:flex; align-items:center; gap:8px;}
.brand .logo {width:32px; height:32px; border-radius:6px; background:linear-gradient(135deg,var(--accent),var(--accent2)); display:flex; align-items:center; justify-content:center; font-weight:700;}
.ws-config {display:flex; gap:6px; align-items:center; margin-left:20px;}
.ws-config input {padding:4px 6px; border-radius:6px; border:1px solid rgba(255,255,255,0.1); background:transparent; color:#fff; width:110px;}
.ws-config button {padding:4px 10px; border-radius:6px; border:none; background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#07101a; cursor:pointer;}
.status {margin-left:auto; display:flex; gap:12px; align-items:center;}
.status .pill {background:rgba(255,255,255,0.08); padding:6px 10px; border-radius:999px; font-size:13px; min-width:70px; text-align:center;}

/* Main Grid */
.main {flex:1; display:grid; grid-template-columns:260px 1fr 360px; gap:var(--gap); padding:var(--gap);}

/* Panels */
.panel {background:var(--panel); border-radius:var(--card-radius); padding:12px; display:flex; flex-direction:column; min-height:0;}

/* Scenes */
#sceneList {display:flex; flex-direction:column; gap:6px; flex:1;}
.scene {padding:6px; border-radius:6px; border:none; background:#284cb8; color:#fff; cursor:pointer; text-align:left; user-select:none; transition:max-height 0.3s ease, opacity 0.3s ease, margin 0.3s ease; overflow:hidden; max-height:50px; opacity:1; margin:2px 0;}
.scene.hidden {max-height:0; opacity:0; margin:0;}
.scene:hover {background:#3c54d1;}
.scene.preview {background:#00c9ff;}
.scene.program {background:#f52584;}
.separator {padding:4px; margin:4px 0; background:#222; color:#f52584; font-weight:bold; display:flex; align-items:center; gap:6px; border:1px dashed #555; border-radius:4px; cursor:pointer; user-select:none;}
.separator .deleteBtn {margin-left:auto; color:#fff; background:#f52584; border:none; border-radius:4px; cursor:pointer; padding:0 4px; font-weight:bold;}
.separator .deleteBtn:hover {background:#ff5a8f;}
#addSeparatorBtn {margin-top:8px; padding:6px; border:none; border-radius:6px; background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#07101a; cursor:pointer; font-weight:bold;}

/* Preview / Program */
#previewPanel {display:flex; flex-direction:column; gap:12px; flex:1; min-height:0;}
#previewContainer {display:flex; flex:1; gap:6px; min-height:0;}
#previewContainer iframe {flex:1; height:100%; border:0; margin:0; border-radius:0; display:block; background:#000;}

/* Mixer */
#mixer {display:flex; gap:12px; align-items:flex-end; height:280px; overflow-x:auto; padding-bottom:12px;}
.channel {display:flex; flex-direction:column; align-items:center;}
.fader {width:40px; height:200px; background:rgba(255,255,255,0.05); border-radius:6px; position:relative; writing-mode: vertical-RL; direction: rtl;}
.level {width:100%; background:linear-gradient(to top,var(--accent2),var(--accent)); height:0%; transition:height 0.1s linear; position:absolute; bottom:0; left:0; border-radius:6px;}
.slider {width:100%; height:100%; opacity:0;}
.name {margin-top:6px; font-size:12px; text-align:center; word-break:break-word; max-width:60px;}
.dblabel {font-size:12px; text-align:center; margin-bottom:4px;}
button.muteBtn {margin-top:4px; font-size:10px; padding:2px 6px; border-radius:4px; border:none; cursor:pointer; background:#555; color:#fff;}

/* Chat */
.chat-header {display:flex; gap:6px; margin-bottom:6px;}
.chat-header input {flex:1; padding:4px; border-radius:6px; border:1px solid rgba(255,255,255,0.1); background:transparent; color:#fff;}
.chat-header button {padding:4px 6px; border-radius:6px; border:none; background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#07101a; cursor:pointer;}
.chat-iframe {width:100%; flex:1; border:none; border-radius:6px; background:#000;}

/* Mixer panel bottom align */
#mixerPanel {margin-top:auto;}
