<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Dashboard Leagues</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://unpkg.com/lucide-static/font/lucide.css">
<script src="https://unpkg.com/lucide@latest"></script>
<style>
/* Import de la font GT America */
@font-face {
  font-family: 'GT-America-Bold';
  src: url('css/GT-America-Compressed-Bold-Trial.otf') format('opentype');
  font-weight: bold;
  font-style: normal;
}

body,html{
  height:100%;
  margin:0;
  font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
  background:linear-gradient(180deg,#0f1720,#07101a);
  color:#fff;
}

.main{display:flex;height:100%;gap:12px;padding:12px}
.sidebar{display:flex;flex-direction:column;width:200px;height:100%}

.league-btn{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  border:none;
  background:#0b1220;
  border-radius:10px;
  margin:4px 0;
  cursor:pointer;
  overflow:hidden;
  transition:0.2s;
  color:#fff;
  font-family:'GT-America-Bold',sans-serif;
}
.league-btn:hover{
  background:#1a2230;
  transform:scale(1.05);
  box-shadow:0 4px 14px rgba(0,0,0,0.3)
}
.league-btn.active{
  background:linear-gradient(90deg,#00c9ff,#f52584);
  color:#07101a;
  transform:none;
  box-shadow:none
}
.league-btn.active img{filter:brightness(0) invert(1)}
.league-btn img{max-height:60%;max-width:80%;object-fit:contain}
.league-btn span{margin-top:6px;font-size:14px;text-align:center}

.content{flex:1;display:flex;flex-wrap:wrap;gap:12px}
.content.two-cols .panel{flex:1 1 calc(50% - 6px)}

.panel{
  background:#0b1220;
  border-radius:10px;
  padding:12px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  overflow:auto;
  opacity:0;
  transform:translateY(20px) scale(0.95);
  transition:opacity 0.5s ease, transform 0.5s ease;
  font-family:'GT-America-Bold',sans-serif;
}
.panel.show{
  opacity:1;
  transform:translateY(0) scale(1)
}

.category-title{
  font-size:18px;
  font-weight:bold;
  margin-bottom:6px;
  display:flex;
  align-items:center;
  gap:6px;
  justify-content:center;
  font-family:'GT-America-Bold',sans-serif;
}

.link-btn{
  display:flex;
  align-items:center;
  gap:6px;
  background:#1a2230;
  padding:6px 12px;
  border-radius:8px;
  color:#fff;
  text-decoration:none;
  transition:0.2s;
  width:100%
}
.link-btn img{width:24px;height:24px;object-fit:contain}
.link-btn:hover{background:#284cb8}
</style>
</head>
<body>
<div class="main">
  <!-- Sidebar -->
  <div class="sidebar">
    <button class="league-btn" data-league="EUROPE-MENA"><img src="css/img/EML.png"><span>EUROPE-MENA</span></button>
    <button class="league-btn" data-league="NORTH AMERICA"><img src="css/img/NAL.png"><span>NORTH AMERICA</span></button>
    <button class="league-btn" data-league="SOUTH AMERICA"><img src="css/img/SAL.png"><span>SOUTH AMERICA</span></button>
    <button class="league-btn" data-league="APL - ASIA"><img src="css/img/APL.png"><span>APL - ASIA</span></button>
    <button class="league-btn" data-league="APL - APAC NORTH"><img src="css/img/APL.png"><span>APL - APAC NORTH</span></button>
    <button class="league-btn" data-league="APL - OCEANIA"><img src="css/img/APL.png"><span>APL - OCEANIA</span></button>
    <button class="league-btn" data-league="MUNICH MAJOR"><img src="css/img/MUNICH MAJOR.png"><span>MUNICH MAJOR</span></button>
    <button class="league-btn" data-league="SIX INVITATIONAL 2026"><img src="css/img/SI2026.png"><span>SIX INVITATIONAL 2026</span></button>
  </div>

  <!-- Content -->
  <div class="content" id="content"></div>
</div>

<script>
const buttons = document.querySelectorAll('.league-btn');
let leagueData = {};

// fetch JSON
fetch('links.json')
  .then(res => res.json())
  .then(data => {
    leagueData = data;
    // sélection par défaut
    buttons[0].classList.add('active');
    updatePanels(buttons[0].dataset.league);
  });

// clic sur boutons ligues
buttons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    buttons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    updatePanels(btn.dataset.league);
  });
});

function updatePanels(league){
  const container = document.getElementById('content');
  container.innerHTML='';
  const categories = Object.keys(leagueData[league]||{});
  if(categories.length>=2){
    container.classList.add('two-cols');
  }else{
    container.classList.remove('two-cols');
  }

  categories.forEach((cat,i)=>{
    const panel=document.createElement('div');
    panel.className='panel';

    const title=document.createElement('div');
    title.className='category-title';
    title.textContent=cat;
    panel.appendChild(title);

    (leagueData[league][cat]||[]).forEach(link=>{
      const a=document.createElement('a');
      a.href=link.url;
      a.target='_blank';
      a.className='link-btn';
      a.innerHTML=`<img src="${link.img}" alt="${link.text}"><span>${link.text}</span>`;
      panel.appendChild(a);
    });

    container.appendChild(panel);

    // animation fluide avec delay en cascade
    setTimeout(()=>panel.classList.add('show'), i*100);
  });
}
</script>
</body>
</html>
