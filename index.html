<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Dashboard Leagues</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://unpkg.com/lucide-static/font/lucide.css">
<script src="https://unpkg.com/lucide@latest"></script>
<style>
body, html {height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#0f1720,#07101a);color:#fff;}
.main {display:flex;height:100%;gap:12px;padding:12px;}
.sidebar {display:flex;flex-direction:column;width:200px;height:100%;}
.league-btn {flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;border:none;background:#0b1220;border-radius:10px;margin:4px 0;cursor:pointer;overflow:hidden;transition:0.2s;color:#fff;}
.league-btn:hover {background:#1a2230;}
.league-btn.active {background:linear-gradient(90deg,#00c9ff,#f52584);color:#07101a;}
.league-btn.active img {filter:brightness(0) invert(1);}
.league-btn img {max-height:60%;max-width:80%;object-fit:contain;}
.league-btn span {margin-top:6px;font-size:14px;text-align:center;}
.content {flex:1;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;}
.panel {background:#0b1220;border-radius:10px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:6px;color:#fff;}
.panel h3 {margin-bottom:8px;text-align:center;}
.link-btn {display:flex;align-items:center;gap:6px;padding:6px 8px;background:#1a2230;border-radius:8px;color:#fff;text-decoration:none;transition:0.2s;width:100%;justify-content:center;}
.link-btn:hover {background:#00c9ff; color:#07101a;}
.link-btn img {max-height:24px; max-width:24px; object-fit:contain;}
</style>
</head>
<body>
<div class="main">
  <!-- Sidebar gauche -->
  <div class="sidebar">
    <button class="league-btn" data-league="EUROPE-MENA"><img src="css/img/EML.png" alt="Europe-MENA"><span>EUROPE-MENA</span></button>
    <button class="league-btn" data-league="NORTH AMERICA"><img src="css/img/NAL.png" alt="North America"><span>NORTH AMERICA</span></button>
    <button class="league-btn" data-league="SOUTH AMERICA"><img src="css/img/SAL.png" alt="South America"><span>SOUTH AMERICA</span></button>
    <button class="league-btn" data-league="APL-ASIA"><img src="css/img/APL.png" alt="Asia"><span>APL - ASIA</span></button>
    <button class="league-btn" data-league="APL-APAC NORTH"><img src="css/img/APL.png" alt="Apac North"><span>APL - APAC NORTH</span></button>
    <button class="league-btn" data-league="APL-OCEANIA"><img src="css/img/APL.png" alt="Oceania"><span>APL - OCEANIA</span></button>
    <button class="league-btn" data-league="EXTRA"><img src="css/img/EML.png" alt="Extra"><span>EXTRA</span></button>
  </div>

  <!-- Contenu dynamique -->
  <div id="panelsContainer" class="content"></div>
</div>

<script>
let linksData = {};

// Charger le JSON externe
fetch('links.json')
  .then(res => res.json())
  .then(data => {
    linksData = data;
    // Sélection par défaut
    const firstLeague = Object.keys(data)[0];
    renderPanels(firstLeague);
    document.querySelectorAll('.league-btn')[0].classList.add('active');
  });

// Génère les panels dynamiquement
function renderPanels(league){
  const container = document.getElementById('panelsContainer');
  container.innerHTML = "";
  const categories = Object.keys(linksData[league]||{});
  categories.forEach(cat=>{
    const panel = document.createElement('div');
    panel.className = 'panel';
    const h3 = document.createElement('h3');
    h3.textContent = cat;
    panel.appendChild(h3);

    (linksData[league][cat]||[]).forEach(link=>{
      const a = document.createElement('a');
      a.href = link.url;
      a.target = "_blank";
      a.className = "link-btn";
      a.innerHTML = `<img src="${link.img}" alt="${link.text}"><span>${link.text}</span>`;
      panel.appendChild(a);
    });

    container.appendChild(panel);
  });
}

// Gestion clic sur les boutons de ligue
document.querySelectorAll('.league-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.league-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderPanels(btn.dataset.league);
  });
});
</script>
</body>
</html>
